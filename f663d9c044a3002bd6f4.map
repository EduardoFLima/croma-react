{"version":3,"sources":["/home/runner/work/croma-react/croma-react/components/Card.js","/home/runner/work/croma-react/croma-react/components/MultiColorView.js","/home/runner/work/croma-react/croma-react/components/UndoCard.js","/home/runner/work/croma-react/croma-react/components/EmptyView.js","/home/runner/work/croma-react/croma-react/screens/HomeScreen.js","/home/runner/work/croma-react/croma-react/components/PaletteCard.js","/home/runner/work/croma-react/croma-react/libs/ColorPicker.js","/home/runner/work/croma-react/croma-react/components/ColorDetails.js","/home/runner/work/croma-react/croma-react/components/CromaButton.js","/home/runner/work/croma-react/croma-react/screens/ColorDetailScreen.js","/home/runner/work/croma-react/croma-react/screens/ColorPickerScreen.js","/home/runner/work/croma-react/croma-react/components/PalettePreviewCard.js","/home/runner/work/croma-react/croma-react/screens/PalettesScreen.js","/home/runner/work/croma-react/croma-react/components/SavePalette.js","/home/runner/work/croma-react/croma-react/components/SingleColorView.js","/home/runner/work/croma-react/croma-react/screens/ColorListScreen.js","/home/runner/work/croma-react/croma-react/components/SingleColorCard.js","/home/runner/work/croma-react/croma-react/screens/PaletteScreen.js","/home/runner/work/croma-react/croma-react/navigation/MainTabNavigator.js","/home/runner/work/croma-react/croma-react/screens/SavePaletteScreen.js","/home/runner/work/croma-react/croma-react/screens/AddPaletteManuallyScreen.js","/home/runner/work/croma-react/croma-react/navigation/AppNavigator.web.js","/home/runner/work/croma-react/croma-react/App.js","/home/runner/work/croma-react/croma-react/web-build/register-service-worker.js","/home/runner/work/croma-react/croma-react/assets/images/add.png","/home/runner/work/croma-react/croma-react/constants/Colors.js","/home/runner/work/croma-react/croma-react/libs/Storage.js","/home/runner/work/croma-react/croma-react/screens/store.js"],"names":["Card","onPress","this","props","style","styles","inner","View","children","React","StyleSheet","create","backgroundColor","Colors","white","marginVertical","elevation","MultiColorView","palette","alignItems","flexDirection","height","color","flex","colors","map","item","key","UndoCard","name","undoDeletionByName","console","log","undoCard","width","undoText","undoButton","padding","marginTop","fontWeight","EmptyView","HomeScreen","Dimensions","get","actions","text","position","accent","primary","useContext","Croma","isLoading","allPalettes","loadInitPaletteFromStore","deletedPalettes","useState","pickImgloading","setPickImgLoading","useEffect","a","async","Constants","platform","ios","Permissions","status","alert","getPermissionAsync","container","minHeight","Header","HEIGHT","Object","keys","navigation","onPressItem","ImagePicker","mediaTypes","All","quality","base64","undefined","result","Jimp","read","Buffer","uri","pickImage","then","image","err","navigate","ColorPicker","getProminentColors","onDone","bottom","navigationOptions","title","margin","justifyContent","PaletteCard","deletePaletteByName","label","actionButtonsView","actionButton","icon","faEdit","faShareSquare","faTrashAlt","paddingRight","marginHorizontal","darkGrey","resize","AUTO","data","_prepareDataForKmeans","time","Date","now","ans","kmeans","initialization","maxIterations","JSON","stringify","centroids","sort","c1","c2","size","kmeansColors","centroid","Color","_labToHex","_getFinalColors","c","tohex","_toArray","tohsv","filteredColors","i","length","colorList","j","push","finalColors","lab","bitmap","intColor","getPixelColor","hex","_toHexColor","xyz","tolab","substr","split","v","parseFloat","rgba","intToRGBA","r","g","b","index","indexOf","ColorDetail","alignSelf","info","colorNameText","fontSize","items","value","torgb","tohsl","tohwb","tocmyk","luminance","toFixed","darkness","Clipboard","setString","Text","faCopy","CromaButton","button","textTransform","shadowColor","shadowOffset","shadowOpacity","shadowRadius","marginBottom","ColorDetailScreen","getParam","ScrollView","paddingLeft","PalettePreviewCard","PalettesScreen","test","forEach","toString","replace","str","toUpperCase","SavePalette","paletteName","setPaletteName","addPalette","navigationPath","card","TextInput","input","placeholder","onChangeText","Set","borderBottomColor","borderBottomWidth","SingleColorView","colorText","ColorListScreen","set","uniqueColors","has","add","listview","SingleColorCard","colorDeleteFromPalette","require","PaletteScreen","undoColorDeletion","addColorToPalette","deletedColors","deleteColor","colorObj","overrideWithAction","colorName","RootStack","Platform","select","web","headerMode","default","createStackNavigator","ColorDetails","ColorDetailsScreen","setColor","onChangeColor","verticalMargin","goBack","Palettes","ColorList","Palette","Home","AddPaletteManually","initialRouteName","transparentCard","defaultNavigationOptions","headerStyle","headerTintColor","createAppContainer","switchNavigator","createSwitchNavigator","Main","MainTabNavigator","path","createBrowserApp","history","App","Provider","applicationHook","initState","maxWidth","OS","StatusBar","barStyle","navigator","window","addEventListener","serviceWorker","register","scope","catch","error","module","exports","tintColor","tabIconDefault","tabIconSelected","tabBar","errorBackground","errorText","warningBackground","warningText","noticeBackground","noticeText","primaryDark","grey","lightGrey","black","fadedBlack","Storage","getAllPalettes","AsyncStorage","getItem","palettes","parse","saveAllPalette","allPalette","setItem","setState","state","removePaletteFromStateByName","clearDeletedColor","splice","setTimeout","colorIndex","deletedColor","concat","createContext"],"mappings":"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","file":"static/js/app.98cf636c.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { StyleSheet, Animated } from \"react-native\";\nimport Colors from \"../constants/Colors\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class Card extends React.Component {\n  render() {\n    return (\n      <Touchable onPress={this.props.onPress} style={[styles.inner]}>\n        <Animated.View {...this.props}>{this.props.children}</Animated.View>\n      </Touchable>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  inner: {\n    backgroundColor: Colors.white,\n    marginVertical: 8,\n    elevation: 1\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nexport default function MultiColorView(props) {\n  const styles = StyleSheet.create({\n    palette: {\n      alignItems: \"stretch\",\n      flexDirection: \"row\",\n      height: 112\n    },\n    color: {\n      flex: 1\n    }\n  });\n  return (\n    <View style={styles.palette}>\n      {props.colors &&\n        props.colors.map(item => (\n          <View\n            style={[styles.color, { backgroundColor: item.color }]}\n            key={item.color}\n          />\n        ))}\n    </View>\n  );\n}\n","import React from \"react\";\nimport { View, Text, StyleSheet } from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport const UndoCard = props => {\n  /*\n    Todo - need to add deletion based on type \n  */\n  const { name, undoDeletionByName } = props;\n  console.log(props, \"undo card ****** &&&&&& \");\n  return (\n    <View style={styles.undoCard}>\n      <View style={{ width: \"80%\" }}>\n        <Text style={styles.undoText}>Deleted {name}. tab to dismiss.</Text>\n      </View>\n      <Touchable\n        onPress={() => {\n          undoDeletionByName(name);\n        }}\n      >\n        <Text style={styles.undoButton}> UNDO </Text>\n      </Touchable>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  undoCard: {\n    backgroundColor: \"#303036\",\n    flexDirection: \"row\",\n    padding: 15,\n    marginTop: 1\n  },\n  undoText: {\n    color: \"#fff\"\n  },\n  undoButton: {\n    fontWeight: \"bold\",\n    color: \"#e6be0b\"\n  }\n});\n","import * as React from \"react\";\nimport { View } from \"react-native\";\n\nconst EmptyView = () => (\n  <View\n    style={{ height: 100 }}\n  ></View>\n)\n\nexport default EmptyView;","import React, { useEffect, useState } from \"react\";\nimport {\n  ScrollView,\n  StyleSheet,\n  ActivityIndicator,\n  View,\n  Dimensions\n} from \"react-native\";\nimport { PaletteCard } from \"../components/PaletteCard\";\nimport { UndoCard } from \"../components/UndoCard\";\nimport { Croma } from \"../screens/store\";\nimport { FloatingAction } from \"react-native-floating-action\";\nimport Colors from \"../constants/Colors\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport Constants from \"expo-constants\";\nimport * as Permissions from \"expo-permissions\";\nimport ColorPicker from \"../libs/ColorPicker\";\nimport Jimp from \"jimp\";\nimport { Header } from \"react-navigation\";\nimport EmptyView from \"../components/EmptyView\";\n\nconst HomeScreen = function (props) {\n  const { height, width } = Dimensions.get(\"window\");\n\n  const actions = [\n    {\n      text: \"Get palette from image\",\n      name: \"palette_from_image\",\n      position: 2,\n      color: Colors.accent\n    },\n    {\n      text: \"Get palette from color\",\n      name: \"palette_from_color\",\n      position: 1,\n      color: Colors.accent\n    },\n    {\n      text: \"Add colors manually\",\n      name: \"add_colors_manually\",\n      position: 3,\n      color: Colors.accent\n    },\n    {\n      text: \"Unlock Pro\",\n      name: \"unlock_pro\",\n      position: 4,\n      color: Colors.primary\n    }\n  ];\n  const {\n    isLoading,\n    allPalettes,\n    loadInitPaletteFromStore,\n    deletedPalettes,\n    undoDeletionByName\n  } = React.useContext(Croma);\n  const [pickImgloading, setPickImgLoading] = useState(false);\n  console.log(\"called again \", allPalettes, deletedPalettes);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: true\n    });\n    // console.log(\"Result: \" + JSON.stringify(result));\n    if (result.base64 !== undefined) {\n      return await Jimp.read(new Buffer(result.base64, \"base64\"));\n    } else {\n      return await Jimp.read(result.uri);\n    }\n  };\n  const getPermissionAsync = async () => {\n    if (Constants.platform.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== \"granted\") {\n        alert(\"Sorry, we need camera roll permissions to make this work!\");\n      }\n    }\n  };\n  useEffect(() => {\n    loadInitPaletteFromStore();\n    getPermissionAsync();\n  }, []);\n  if (isLoading) {\n    return <ActivityIndicator />;\n  } else {\n    return (\n      <>\n        <View\n          style={[styles.container, { minHeight: height - Header.HEIGHT - 16 }]}\n        >\n          {pickImgloading ? <ActivityIndicator /> : <View />}\n          <ScrollView>\n            {Object.keys(allPalettes).map(name => {\n              console.log(\"name: \", name, allPalettes[name].colors);\n              return (\n                <PaletteCard\n                  key={name}\n                  colors={allPalettes[name].colors}\n                  name={name}\n                  navigation={props.navigation}\n                />\n              );\n            })}\n            <EmptyView />\n          </ScrollView>\n          <FloatingAction\n            color={Colors.accent}\n            actions={actions}\n            onPressItem={name => {\n              if (name === \"palette_from_image\") {\n                setPickImgLoading(true);\n                pickImage().then((image, err) => {\n                  // TODO: handle err\n                  setPickImgLoading(false);\n                  props.navigation.navigate(\"ColorList\", {\n                    colors: ColorPicker.getProminentColors(image)\n                  });\n                });\n              } else if (name === \"palette_from_color\") {\n                props.navigation.navigate(\"ColorPicker\", {\n                  onDone: color => {\n                    console.log(\"Navigating to palettes\");\n                    props.navigation.navigate(\"Palettes\", {\n                      color: color.color\n                    });\n                  }\n                });\n              } else if (name === \"add_colors_manually\") {\n                props.navigation.navigate(\"AddPaletteManually\");\n              } else if (name === \"unlock_pro\") {\n              }\n              console.log(`selected button: ${name}`);\n            }}\n          />\n        </View>\n\n        <View style={{ position: 'absolute', bottom: 0, width: '100%' }}>\n          {Object.keys(deletedPalettes).map(name => {\n            return (\n              <UndoCard\n                key={name}\n                name={name}\n                undoDeletionByName={undoDeletionByName}\n              />\n            );\n          })}\n        </View>\n      </>\n    );\n  }\n};\n\nexport default HomeScreen;\n\nHomeScreen.navigationOptions = {\n  title: \"Croma\"\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    margin: 8,\n    justifyContent: \"center\"\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport MultiColorView from \"./MultiColorView\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport {\n  faTrashAlt,\n  faShareSquare,\n  faEdit\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { Croma } from \"../screens/store\";\n\nexport const PaletteCard = props => {\n  const { deletePaletteByName } = React.useContext(Croma);\n  return (\n    <Card\n      {...props}\n      onPress={() => {\n        console.log(\"navigate to palette screen\" + props.navigation);\n        props.navigation.navigate(\"Palette\", props);\n      }}\n    >\n      <MultiColorView {...props}></MultiColorView>\n\n      <View style={styles.bottom}>\n        <Text style={styles.label}>{props.name}</Text>\n        <View style={styles.actionButtonsView}>\n          <Touchable style={styles.actionButton}>\n            <FontAwesomeIcon icon={faEdit} />\n          </Touchable>\n          <Touchable style={styles.actionButton}>\n            <FontAwesomeIcon icon={faShareSquare} />\n          </Touchable>\n          <Touchable\n            onPress={() => {\n              deletePaletteByName(props.name);\n            }}\n            style={styles.actionButton}\n          >\n            <FontAwesomeIcon icon={faTrashAlt} />\n          </Touchable>\n        </View>\n      </View>\n    </Card>\n  );\n};\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    paddingRight: 16\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import kmeans from \"ml-kmeans\";\nimport Jimp from \"jimp\";\nimport Color from \"pigment/full\";\nexport default class ColorPicker {\n  static getProminentColors(image) {\n    console.log(\"image: \" + image);\n    /*\n    Jimp.RESIZE_NEAREST_NEIGHBOR;\n    Jimp.RESIZE_BILINEAR;\n    Jimp.RESIZE_BICUBIC;\n    Jimp.RESIZE_HERMITE;\n    Jimp.RESIZE_BEZIER;\n    These does not work with first params.\n    */\n    image.resize(Jimp.AUTO, 100);\n    let data = ColorPicker._prepareDataForKmeans(image);\n    let time = Date.now();\n    let ans = kmeans(data, 24, { initialization: \"random\", maxIterations: 20 });\n    console.log(JSON.stringify(ans) + \",\" + (Date.now() - time) + \" ms\");\n    ans.centroids = ans.centroids.sort((c1, c2) => c2.size - c1.size);\n    console.log(ans.centroids);\n    let kmeansColors = ans.centroids.map(centroid => {\n      return new Color(this._labToHex(centroid.centroid));\n    });\n    return this._getFinalColors(kmeansColors).map(c => {\n      return { color: c.tohex() };\n    });\n  }\n  // original implementation in java: https://github.com/kamalkishor1991/croma/blob/master/src/main/java/org/numixproject/colorextractor/image/KMeansColorPicker.java\n  static _getFinalColors(kmeansColors) {\n    console.log(\"----------------------\", kmeansColors);\n    kmeansColors.sort(\n      (c1, c2) => this._toArray(c1.tohsv())[0] < this._toArray(c2.tohsv())[0]\n    );\n    let filteredColors = [];\n    for (let i = 0; i < kmeansColors.length; i += 4) {\n      let colorList = [];\n      for (let j = 0; j < 4; j++) {\n        colorList.push(kmeansColors[i + j]);\n      }\n      colorList.sort(\n        (c1, c2) => this._toArray(c1.tohsv())[1] < this._toArray(c2.tohsv())[1]\n      );\n      filteredColors.push(colorList[colorList.length - 1]);\n      filteredColors.push(colorList[colorList.length - 2]);\n    }\n    console.log(\"filtered colors:\" + filteredColors);\n    let finalColors = [];\n    for (let i = 0; i < filteredColors.length; i += 2) {\n      if (\n        this._toArray(filteredColors[i].tohsv())[2] >\n        this._toArray(filteredColors[i + 1].tohsv())[2]\n      ) {\n        finalColors.push(filteredColors[i]);\n      } else {\n        finalColors.push(filteredColors[i + 1]);\n      }\n    }\n    return finalColors;\n  }\n\n  static _labToHex(lab) {\n    let color = new Color(\n      \"lab(\" + lab[0] + \", \" + lab[1] + \", \" + lab[2] + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _prepareDataForKmeans(image) {\n    let data = [];\n\n    console.log(\"image============\", image.bitmap.width, image.bitmap.height);\n    for (let i = 0; i < image.bitmap.width; i++) {\n      for (let j = 0; j < image.bitmap.height; j++) {\n        let intColor = image.getPixelColor(i, j);\n        let hex = this._toHexColor(intColor);\n        console.log(\"hex:\", hex);\n        let color = new Color(hex);\n        let xyz = color.tolab();\n        // format: \"xyz(19.78527130484015, 8.600439447528947, 95.19796416837329)\" to double array of xyz\n        xyz = xyz\n          .substr(4, xyz.length - 5)\n          .split(\", \")\n          .map(v => parseFloat(v));\n        data.push(xyz);\n      }\n    }\n\n    return data;\n  }\n\n  static _toHexColor(intColor) {\n    let rgba = Jimp.intToRGBA(intColor); // TODO: Need to optimize this once everything else starts working.\n    let color = new Color(\n      \"rgb(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _toArray(color) {\n    let index = color.indexOf(\"(\");\n    color = color.substr(index + 1, color.length - index);\n    return color.split(\", \").map(c => parseFloat(c));\n  }\n}\n","import React from \"react\";\nimport { StyleSheet, Text, View, Clipboard } from \"react-native\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport { faCopy } from \"@fortawesome/free-regular-svg-icons\";\nimport Touchable from \"react-native-platform-touchable\";\n\nimport Color from \"pigment/full\";\n\nexport function ColorDetail(props) {\n  const styles = StyleSheet.create({\n    backgroundColor: {\n      backgroundColor: props.color,\n      height: 112,\n      alignSelf: \"stretch\"\n    },\n    info: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      padding: 10\n    },\n    colorNameText: {\n      fontSize: 16,\n      fontWeight: \"500\"\n    }\n  });\n  const color = new Color(props.color);\n  let items = [\n    { key: \"HEX\", value: color.tohex() },\n    { key: \"RGB\", value: color.torgb() },\n    { key: \"HSL\", value: color.tohsl() },\n    { key: \"HSV\", value: color.tohsv() },\n    { key: \"HWB\", value: color.tohwb() },\n    { key: \"CMYK\", value: color.tocmyk() },\n    { key: \"CIELAB\", value: color.tolab() },\n    { key: \"Luminance\", value: (color.luminance() * 100).toFixed(2) + \"%\" },\n    { key: \"Darkness\", value: (color.darkness() * 100).toFixed(2) + \"%\" }\n  ];\n  let writeToClipboard = function(value) {\n    Clipboard.setString(value);\n  };\n  return (\n    <View\n      style={{\n        flex: 1,\n        flexDirection: \"column\",\n        padding: 8,\n        backgroundColor: \"#fff\"\n      }}\n    >\n      <View style={[styles.backgroundColor]}></View>\n      {/* <Text {...props} style={[props.style, { fontFamily: 'space-mono' }]} >{props.color}</Text> */}\n      <View>\n        {items.map(item => (\n          <Touchable\n            key={item.key}\n            onPress={() => writeToClipboard(item.value)}\n          >\n            <View style={styles.info}>\n              <Text style={styles.colorNameText}>{item.key} : </Text>\n\n              <Text>{item.value}</Text>\n              <FontAwesomeIcon icon={faCopy} />\n            </View>\n          </Touchable>\n        ))}\n      </View>\n    </View>\n  );\n}\n","import * as React from \"react\";\nimport { StyleSheet, Text } from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class CromaButton extends React.Component {\n  render() {\n    const { style, onPress, children } = this.props;\n    return (\n      <Touchable style={[styles.button, style]} onPress={onPress}>\n        <Text style={{ textTransform: \"uppercase\" }}> {children} </Text>\n      </Touchable>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 50,\n    marginTop: 10,\n    marginBottom: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\n","import React from \"react\";\nimport { ScrollView, StyleSheet, Button } from \"react-native\";\nimport { ColorDetail } from \"../components/ColorDetails\";\nimport CromaButton from \"../components/CromaButton\";\n\nexport default function ColorDetailScreen(props) {\n  const color = props.navigation.getParam(\"color\");\n  return (\n    <ScrollView style={styles.container}>\n      <ColorDetail navigation={props.navigation} color={color}>\n        {color}\n      </ColorDetail>\n      <CromaButton\n        onPress={() => props.navigation.navigate(\"Palettes\", { color: color })}\n      >\n        See color palettes\n      </CromaButton>\n    </ScrollView>\n  );\n}\n\nColorDetailScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"color\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useState } from \"react\";\nimport { ScrollView, View, StyleSheet } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\nimport { CromaColorPicker as ColorPicker } from \"croma-color-picker\";\nexport default function ColorPickerScreen(props) {\n  const [color, setColor] = useState(\"#db0a5b\");\n  return (\n    <ScrollView>\n      <View style={styles.container}>\n        <ColorPicker\n          onChangeColor={color => {\n            console.log(\"oncolorchange called\", color);\n            setColor(color);\n          }}\n          style={[{ height: 300, verticalMargin: 8, flex: 1 }]}\n        />\n        <CromaButton\n          onPress={() => {\n            console.log(props.navigation.getParam(\"onDone\"));\n            props.navigation.goBack();\n            props.navigation.getParam(\"onDone\")({ color: color });\n          }}\n        >\n          Done\n        </CromaButton>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport MultiColorView from \"./MultiColorView\";\n\nexport class PalettePreviewCard extends React.Component {\n  render() {\n    return (\n      <Card {...this.props}>\n        <View>\n          <MultiColorView {...this.props}></MultiColorView>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>{this.props.name}</Text>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 48\n  },\n  label: {\n    flex: 1,\n    fontWeight: \"500\",\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import React from \"react\";\nimport { ScrollView, StyleSheet, Text } from \"react-native\";\nimport Color from \"pigment/full\";\nimport { PalettePreviewCard } from \"../components/PalettePreviewCard\";\nexport default function PalettesScreen(props) {\n  // Convert camelCase to sentence\n  const parseCamelCase = text => {\n    if (typeof text !== \"string\") {\n      return \"\";\n    }\n    return text\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n      .replace(/\\b([A-Z]+)([A-Z])([a-z])/, \"$1 $2$3\")\n      .replace(/^./, str => str.toUpperCase());\n  };\n  const color = new Color(props.navigation.getParam(\"color\"));\n  let items = [];\n  for (const i in color) {\n    if (/.*scheme$/i.test(i) && typeof color[i] === \"function\") {\n      let colors = [];\n      const paletteColors = color[i]();\n      paletteColors.forEach(c => colors.push({ color: c.tohex() }));\n      items.push(\n        <PalettePreviewCard\n          onPress={() =>\n            props.navigation.navigate(\"ColorList\", { colors: colors })\n          }\n          key={i.toString()}\n          colors={colors}\n          name={parseCamelCase(i.toString())}\n        ></PalettePreviewCard>\n      );\n    }\n  }\n  return <ScrollView style={styles.container}>{items}</ScrollView>;\n}\n\nPalettesScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"color\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React from \"react\";\nimport { Text, View, StyleSheet, TextInput } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Colors from \"../constants/Colors\";\nimport CromaButton from \"../components/CromaButton\";\nimport { Croma } from \"../screens/store\";\n\nexport const SavePalette = props => {\n  console.log(\"props.natigation: \", props.navigation);\n  const [paletteName, setPaletteName] = React.useState(\"\");\n  const { addPalette } = React.useContext(Croma);\n  const { title, navigationPath } = props;\n  return (\n    <ScrollView>\n      <View style={styles.card}>\n        <Text style={styles.label}>{title}</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Enter a name for the palette\"\n          onChangeText={name => setPaletteName(name)}\n        />\n      </View>\n      <CromaButton\n        onPress={async () => {\n          const colors = [\n            ...new Set(props.navigation.getParam(\"colors\") || [])\n          ];\n          const palette = { name: paletteName, colors: colors };\n          addPalette(palette);\n          console.log(\"navigating to home\");\n          if (navigationPath === \"Palette\") {\n            props.navigation.navigate(navigationPath, palette);\n          } else {\n            props.navigation.navigate(navigationPath);\n          }\n        }}\n      >\n        Save palette\n      </CromaButton>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 92,\n    marginVertical: 10,\n    padding: 10\n  },\n  label: {\n    flex: 1,\n    color: Colors.darkGrey,\n    fontWeight: \"700\"\n  },\n  input: {\n    flex: 1,\n    borderBottomColor: \"black\",\n    borderBottomWidth: 1\n  }\n});\n","import * as React from \"react\";\nimport { View, StyleSheet, Text } from \"react-native\";\n\nexport class SingleColorView extends React.Component {\n  render() {\n    return (\n      <View style={[styles.container, { backgroundColor: this.props.color }]}>\n        <Text style={styles.colorText}>{this.props.color}</Text>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 56,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  colorText: {\n    fontWeight: \"700\",\n    backgroundColor: \"rgba(255, 255, 255, .3)\",\n    paddingLeft: 8,\n    paddingRight: 8\n  }\n});\n","import React from \"react\";\nimport { SingleColorView } from \"../components/SingleColorView\";\nimport { ScrollView, StyleSheet } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\n\nexport default function ColorListScreen(props) {\n  const colors = uniqueColors(props.navigation.getParam(\"colors\"));\n  return (\n    <ScrollView style={styles.listview}>\n      {colors.map(color => (\n        <SingleColorView key={color.color} color={color.color} />\n      ))}\n      <CromaButton\n        onPress={() =>\n          props.navigation.navigate(\"SavePalette\", { colors: colors })\n        }\n      >\n        SAVE AS NEW PALETTE\n      </CromaButton>\n    </ScrollView>\n  );\n}\nfunction uniqueColors(colors) {\n  let set = new Set();\n  let uniqueColors = [];\n  colors.forEach(color => {\n    console.log(\"Color: \" + color.color);\n    if (!set.has(color.color)) {\n      console.log(\"inside===\" + color.color);\n      uniqueColors.push(color);\n    }\n    set.add(color.color);\n  });\n  return uniqueColors;\n}\n\nColorListScreen.navigationOptions = {\n  title: \"Colors\"\n};\n\nconst styles = StyleSheet.create({\n  listview: {\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class SingleColorCard extends React.Component {\n  render() {\n    return (\n      <Card {...this.props}>\n        <View>\n          <View\n            style={{ backgroundColor: this.props.color, height: 100 }}\n          ></View>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>{this.props.color}</Text>\n            <View style={styles.actionButtonsView}>\n              <Touchable\n                onPress={this.props.colorDeleteFromPalette}\n                style={styles.actionButton}\n              >\n                <FontAwesomeIcon icon={faTrashAlt} />\n              </Touchable>\n            </View>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    paddingRight: 16\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    fontWeight: \"500\",\n    color: Colors.darkGrey\n  }\n});\n","import React, { useState } from \"react\";\nimport SingleColorCard from \"../components/SingleColorCard\";\nimport { ScrollView, StyleSheet, View, Dimensions } from \"react-native\";\nimport { UndoCard } from \"../components/UndoCard\";\nimport { Croma } from \"../screens/store\";\nimport { FloatingAction } from \"react-native-floating-action\";\nimport Colors from \"../constants/Colors\";\nimport { Header } from \"react-navigation\";\nimport EmptyView from \"../components/EmptyView\";\nconst actions = [\n  {\n    text: \"Add color\",\n    icon: require(\"../assets/images/add.png\"),\n    name: \"add_color\",\n    position: 1\n  }\n];\nexport default function PaletteScreen(props) {\n  const { height, width } = Dimensions.get(\"window\");\n  const paletteName = props.navigation.getParam(\"name\");\n  const {\n    allPalettes,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette\n  } = React.useContext(Croma);\n  const colors = allPalettes[paletteName].colors;\n  const deletedColors = allPalettes[paletteName].deletedColors\n    ? allPalettes[paletteName].deletedColors\n    : [];\n\n  const deleteColor = index => {\n    colorDeleteFromPalette(props.navigation.getParam(\"name\"), index);\n  };\n\n  return (\n    <>\n      <View\n        style={(styles.container, { minHeight: height - Header.HEIGHT - 16 })}\n      >\n        <ScrollView style={styles.listview}>\n          {colors.map((colorObj, index) => {\n            return (\n              <SingleColorCard\n                onPress={() =>\n                  props.navigation.navigate(\"ColorDetails\", {\n                    color: colorObj.color\n                  })\n                }\n                color={colorObj.color}\n                colorDeleteFromPalette={() => {\n                  deleteColor(index);\n                }}\n              ></SingleColorCard>\n            );\n          })}\n          <EmptyView />\n        </ScrollView> \n        <FloatingAction\n          actions={actions}\n          overrideWithAction={true}\n          color={Colors.accent}\n          onPressItem={() =>\n            props.navigation.navigate(\"ColorPicker\", {\n              onDone: color => {\n                addColorToPalette(paletteName, color);\n              }\n            })\n          }\n        />\n      </View>\n      <View style={{ position: 'absolute', bottom: 0, width: '100%' }}>\n        {deletedColors.map(colorObj => (\n          <UndoCard\n            name={colorObj.color}\n            undoDeletionByName={colorName => {\n              undoColorDeletion(paletteName, colorName);\n            }}\n          />\n        ))}\n      </View>\n    </>\n  );\n}\nPaletteScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"name\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  listview: {\n    margin: 8\n  }\n});\n","import React from \"react\";\nimport { Platform } from \"react-native\";\nimport { createStackNavigator } from \"react-navigation\";\nimport { createAppContainer } from \"react-navigation\";\nimport ColorDetailsScreen from \"../screens/ColorDetailScreen\";\nimport ColorPickerScreen from \"../screens/ColorPickerScreen\";\nimport PalettesScreen from \"../screens/PalettesScreen\";\nimport SavePaletteScreen from \"../screens/SavePaletteScreen\";\nimport AddPaletteManuallyScreen from \"../screens/AddPaletteManuallyScreen\";\nimport ColorListScreen from \"../screens/ColorListScreen\";\nimport PaletteScreen from \"../screens/PaletteScreen\";\nimport HomeScreen from \"../screens/HomeScreen\";\nimport Colors from \"../constants/Colors\";\n\nconst config = Platform.select({\n  web: { headerMode: \"screen\" },\n  default: {}\n});\nconst RootStack = createStackNavigator(\n  {\n    ColorDetails: ColorDetailsScreen,\n    ColorPicker: ColorPickerScreen,\n    Palettes: PalettesScreen,\n    SavePalette: SavePaletteScreen,\n    ColorList: ColorListScreen,\n    Palette: PaletteScreen,\n    Home: HomeScreen,\n    AddPaletteManually: AddPaletteManuallyScreen\n  },\n  {\n    initialRouteName: \"Home\",\n    transparentCard: true,\n    /* The header config from HomeScreen is now here */\n    defaultNavigationOptions: {\n      headerStyle: {\n        backgroundColor: Colors.primary\n      },\n      headerTintColor: \"#fff\"\n    }\n  }\n);\n\nconst AppContainer = createAppContainer(RootStack);\n\nexport default RootStack;\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\n\nexport default function SavePaletteScreen(props) {\n  console.log(props, \"SavePaletteScreen \");\n  return (\n    <ScrollView>\n      <SavePalette\n        title={\"ADD NEW PALETTE\"}\n        navigationPath={\"Home\"}\n        navigation={props.navigation}\n      />\n    </ScrollView>\n  );\n}\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\n\nexport default function AddPaletteManuallyScreen(props) {\n  console.log(props, \"AddPaletteManuallyScreen \");\n  return (\n    <ScrollView>\n      <SavePalette\n        title={\"ADD PALETTE NAME\"}\n        navigationPath={\"Palette\"}\n        navigation={props.navigation}\n      />\n    </ScrollView>\n  );\n}\n","import { createBrowserApp } from \"@react-navigation/web\";\nimport { createSwitchNavigator } from \"react-navigation\";\n\nimport MainTabNavigator from \"./MainTabNavigator\";\n\nconst switchNavigator = createSwitchNavigator({\n  // You could add another route here for authentication.\n  // Read more at https://reactnavigation.org/docs/en/auth-flow.html\n  Main: MainTabNavigator\n});\nswitchNavigator.path = \"\";\n\nexport default createBrowserApp(switchNavigator, { history: \"hash\" });\n","import React from \"react\";\nimport {\n  Platform,\n  StatusBar,\n  StyleSheet,\n  View\n} from \"react-native\";\nimport Colors from \"./constants/Colors\";\nimport AppNavigator from \"./navigation/AppNavigator\";\n\nimport applicationHook, { initState, Croma } from \"./screens/store\";\n\nexport default function App(props) {\n  return (\n    <Croma.Provider value={applicationHook(initState)}>\n      <View style={[styles.container]}>\n        <View\n          style={[\n            { flex: 1, backgroundColor: \"transparent\", maxWidth: 600},\n          ]}\n        >\n          {Platform.OS === \"ios\" && <StatusBar barStyle=\"default\" />}\n          <AppNavigator />\n        </View>\n      </View>\n    </Croma.Provider>\n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: Colors.backgroundColor,\n    flexDirection: \"row\"\n  }\n});\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function(info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function(error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsSAAALEgHS3X78AAAAHklEQVQoz2NgwAH+QwEDqWBUI5ICUgH5GkejgwYaAQHbzzEa1pSvAAAAAElFTkSuQmCC\"","const tintColor = \"#2f95dc\";\n\nexport default {\n  tintColor,\n  tabIconDefault: \"#ccc\",\n  tabIconSelected: tintColor,\n  tabBar: \"#fefefe\",\n  errorBackground: \"red\",\n  errorText: \"#fff\",\n  warningBackground: \"#EAEB5E\",\n  warningText: \"#666804\",\n  noticeBackground: tintColor,\n  noticeText: \"#fff\",\n  primary: \"#f1544d\",\n  primaryDark: \"#c94740\",\n  text: \"#fff\",\n  accent: \"#f0d04c\",\n  grey: \"#888\",\n  darkGrey: \"#333\",\n  lightGrey: \"#eee\",\n  white: \"#fff\",\n  black: \"#000\",\n  fadedBlack: \"rgba(0, 0, 0, .5)\",\n  backgroundColor: \"#f2f2f2\"\n};\n","import { AsyncStorage } from \"react-native\";\nconst ALL_PALETTES = \"ALL_PALETTES\";\nexport default class Storage {\n  static getAllPalettes = async () => {\n    let palettes = await AsyncStorage.getItem(ALL_PALETTES);\n    console.log(\"Palettes returned from storage: \", palettes);\n    if (palettes) {\n      return JSON.parse(palettes);\n    } else {\n      return {};\n    }\n  };\n\n  static saveAllPalette = async allPalette => {\n    await AsyncStorage.setItem(ALL_PALETTES, JSON.stringify(allPalette));\n  };\n  static deletePaletteByName = async name => {\n    let palettes = await Storage.getAllPalettes();\n    delete palettes[name];\n    await Storage.saveAllPalette(palettes);\n  };\n}\n","import React, { useState, useEffect } from \"react\";\nimport Storage from \"./../libs/Storage\";\nconst UNDO_TIMEOUT = 3000;\n\nexport const initState = {\n  allPalettes: {},\n  deletedPalettes: {},\n  isLoading: false\n};\n\nconst shrinkStateToStore = function(allPalettes) {\n  Storage.saveAllPalette(allPalettes);\n};\n\nexport default function applicationHook(initState) {\n  const addPalette = async palette => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[palette.name] = palette;\n      return { ...state, allPalettes };\n    });\n  };\n\n  const loadInitPaletteFromStore = async () => {\n    const allPalettes = await Storage.getAllPalettes();\n    setState(state => ({ ...state, allPalettes }));\n  };\n\n  const removePaletteFromStateByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      delete deletedPalettes[name];\n      return { ...state, deletedPalettes };\n    });\n  };\n\n  const addColorToPalette = (name, color) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors = allPalettes[name].colors.concat(color);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const deletePaletteByName = async name => {\n    await Storage.deletePaletteByName(name);\n    setState(state => {\n      const { allPalettes } = state;\n      const { deletedPalettes } = state;\n      if (allPalettes[name]) {\n        deletedPalettes[name] = { ...allPalettes[name] };\n        delete allPalettes[name];\n        setTimeout(() => {\n          removePaletteFromStateByName(name);\n        }, UNDO_TIMEOUT);\n        return { ...state, allPalettes, deletedPalettes };\n      }\n      return { ...state };\n    });\n  };\n\n  const undoDeletionByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      if (deletedPalettes[name]) {\n        addPalette({ ...deletedPalettes[name] });\n        removePaletteFromStateByName(name);\n      }\n      return { ...state };\n    });\n  };\n\n  const colorDeleteFromPalette = (name, colorIndex) => {\n    setState(state => {\n      const { allPalettes } = state;\n      const deletedColor = allPalettes[name].colors.splice(colorIndex, 1);\n      if (allPalettes[name].deletedColors) {\n        allPalettes[name].deletedColors.push({...deletedColor[0]});\n      } else {\n        allPalettes[name].deletedColors = [...deletedColor];\n      }\n      setTimeout(() => {\n        clearDeletedColor(name, deletedColor[0].color);\n      }, UNDO_TIMEOUT);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const undoColorDeletion = (name, colorName) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors.push({ color: colorName });\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorName) {\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      return { ...state, allPalettes };\n    });\n  };\n\n  const clearDeletedColor = (name, colorName) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorName) {\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      return { ...state, allPalettes };\n    });\n  };\n\n  const [state, setState] = useState({\n    ...initState,\n    loadInitPaletteFromStore,\n    undoDeletionByName,\n    deletePaletteByName,\n    addPalette,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette\n  });\n  if (Object.keys(state.allPalettes).length > 0) {\n    shrinkStateToStore(state.allPalettes);\n  }\n  console.log(state, \"updated state \");\n  return state;\n}\n\nexport const Croma = React.createContext();\n"],"sourceRoot":""}