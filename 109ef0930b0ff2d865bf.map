{"version":3,"sources":["/home/runner/work/croma-react/croma-react/components/Card.js","/home/runner/work/croma-react/croma-react/components/MultiColorView.js","/home/runner/work/croma-react/croma-react/components/EmptyView.js","/home/runner/work/croma-react/croma-react/screens/HomeScreen.js","/home/runner/work/croma-react/croma-react/components/PaletteCard.js","/home/runner/work/croma-react/croma-react/libs/ColorPicker.js","/home/runner/work/croma-react/croma-react/components/ColorDetails.js","/home/runner/work/croma-react/croma-react/components/CromaButton.js","/home/runner/work/croma-react/croma-react/screens/ColorDetailScreen.js","/home/runner/work/croma-react/croma-react/screens/ColorPickerScreen.js","/home/runner/work/croma-react/croma-react/components/PalettePreviewCard.js","/home/runner/work/croma-react/croma-react/screens/PalettesScreen.js","/home/runner/work/croma-react/croma-react/components/SavePalette.js","/home/runner/work/croma-react/croma-react/components/SingleColorView.js","/home/runner/work/croma-react/croma-react/screens/ColorListScreen.js","/home/runner/work/croma-react/croma-react/components/SingleColorCard.js","/home/runner/work/croma-react/croma-react/screens/PaletteScreen.js","/home/runner/work/croma-react/croma-react/navigation/MainTabNavigator.js","/home/runner/work/croma-react/croma-react/screens/SavePaletteScreen.js","/home/runner/work/croma-react/croma-react/screens/AddPaletteManuallyScreen.js","/home/runner/work/croma-react/croma-react/navigation/AppNavigator.web.js","/home/runner/work/croma-react/croma-react/App.js","/home/runner/work/croma-react/croma-react/web-build/register-service-worker.js","/home/runner/work/croma-react/croma-react/constants/Colors.js","/home/runner/work/croma-react/croma-react/libs/Storage.js","/home/runner/work/croma-react/croma-react/store/store.js","/home/runner/work/croma-react/croma-react/components/CommanDialogs.js"],"names":["Card","Platform","OS","onClick","this","props","onPress","style","styles","inner","View","children","React","StyleSheet","create","backgroundColor","Colors","white","marginVertical","elevation","MultiColorView","palette","alignItems","flexDirection","height","color","flex","colors","map","item","key","EmptyView","HomeScreen","Dimensions","get","width","useContext","Croma","isLoading","allPalettes","deletedPalettes","undoDeletionByName","isPro","setPurchase","useState","pickImgloading","setPickImgLoading","useEffect","a","async","Constants","platform","ios","Permissions","status","alert","getPermissionAsync","container","minHeight","Header","HEIGHT","showsVerticalScrollIndicator","Object","keys","name","slice","length","navigation","bgColor","hideShadow","buttonColor","accent","Item","title","ImagePicker","mediaTypes","All","quality","base64","undefined","result","Jimp","read","Buffer","uri","pickImage","then","image","err","navigate","ColorPicker","getProminentColors","catch","actionButtonIcon","onDone","primary","Linking","openURL","console","log","InAppBilling","open","purchase","details","ToastAndroid","show","LONG","close","navigationOptions","margin","justifyContent","fontSize","PaletteCard","shared","setShared","deletePaletteByName","bottom","label","actionButtonsView","position","top","right","padding","textAlign","borderRadius","event","preventDefault","stopPropagation","Clipboard","setString","encodeURIComponent","JSON","stringify","setTimeout","actionButton","size","Share","share","message","dialogTitle","action","sharedAction","activityType","dismissedAction","paddingRight","marginHorizontal","darkGrey","resize","AUTO","data","_prepareDataForKmeans","ans","Date","now","kmeans","initialization","maxIterations","centroids","sort","c1","c2","kmeansColors","centroid","Color","_labToHex","_getFinalColors","c","tohex","_toArray","tohsv","filteredColors","i","colorList","j","push","finalColors","lab","bitmap","intColor","getPixelColor","hex","_toHexColor","xyz","tolab","substr","split","v","parseFloat","rgba","intToRGBA","r","g","b","index","indexOf","ColorDetail","copyiedIndex","setCopyiedIntex","alignSelf","info","colorNameText","fontWeight","items","value","torgb","tohsl","tohwb","tocmyk","luminance","toFixed","darkness","debouncedSetCopiedIndex","func","delay","debounceTimer","context","args","arguments","clearTimeout","apply","debounce","marginTop","writeToClipboard","Text","FontAwesome","CromaButton","button","textTransform","shadowColor","shadowOffset","shadowOpacity","shadowRadius","marginBottom","ColorDetailScreen","getParam","ScrollView","paddingLeft","PalettePreviewCard","PalettesScreen","test","text","forEach","toString","replace","str","toUpperCase","SavePalette","paletteName","setPaletteName","setFinalColors","isUnlockProNotification","setIsUnlockProNotifiction","isPaletteNameExist","setIsPaletteNameExist","addPalette","colorsFromParams","parse","Set","navigationPath","card","TextInput","input","placeholder","onChangeText","borderBottomColor","borderBottomWidth","SingleColorView","colorText","ColorListScreen","set","uniqueColors","has","add","listview","SingleColorCard","colorDeleteFromPalette","PaletteScreen","undoColorDeletion","addColorToPalette","deletedColors","deleteColor","colorObj","ActionButton","colorName","RootStack","select","web","headerMode","default","createStackNavigator","ColorDetails","ColorDetailsScreen","setColor","onChangeColor","goBack","Palettes","ColorList","Palette","Home","AddPaletteManually","initialRouteName","transparentCard","defaultNavigationOptions","headerStyle","headerTintColor","createAppContainer","switchNavigator","createSwitchNavigator","Main","MainTabNavigator","path","createBrowserApp","history","App","isPalettesLoaded","setIsPalettesLoaded","applicationState","applicationHook","initState","loadInitPaletteFromStore","platfrom","Provider","StatusBar","barStyle","hidden","primaryDark","translucent","networkActivityIndicatorVisible","maxWidth","ActivityIndicator","animating","navigator","window","addEventListener","serviceWorker","register","scope","error","tintColor","tabIconDefault","tabIconSelected","tabBar","errorBackground","errorText","warningBackground","warningText","noticeBackground","noticeText","grey","lightGrey","black","fadedBlack","Storage","getApplicationState","AsyncStorage","getItem","state","setApplicationState","setItem","setUserAlreadyExists","checkUserAlreadyExists","sortPalette","setState","removePaletteFromStateByName","clearDeletedColor","splice","_state","colorIndex","deletedColor","concat","purchaseDetails","syncStateToStore","createContext","DialogContainer","UndoDialog","undoCard","undoText","undoButton","TextDialog"],"mappings":"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","file":"static/js/app.52e44af6.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { StyleSheet, Animated, Platform } from \"react-native\";\nimport Colors from \"../constants/Colors\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class Card extends React.Component {\n  render() {\n    return (\n      <Touchable\n        {...(Platform.OS === \"web\"\n          ? {\n              // When scrolling the document body, the touchables might be triggered\n              // see  https://github.com/necolas/react-native-web/issues/1219\n              onClick: this.props.onPress\n            }\n          : {\n              onPress: this.props.onPress\n            })}\n        style={[styles.inner]}\n      >\n        <Animated.View {...this.props}>{this.props.children}</Animated.View>\n      </Touchable>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  inner: {\n    backgroundColor: Colors.white,\n    marginVertical: 8,\n    elevation: 1\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nexport default function MultiColorView(props) {\n  const styles = StyleSheet.create({\n    palette: {\n      alignItems: \"stretch\",\n      flexDirection: \"row\",\n      height: 112\n    },\n    color: {\n      flex: 1\n    }\n  });\n  return (\n    <View style={styles.palette}>\n      {props.colors &&\n        props.colors.map(item => (\n          <View\n            style={[styles.color, { backgroundColor: item.color }]}\n            key={item.color}\n          />\n        ))}\n    </View>\n  );\n}\n","import * as React from \"react\";\nimport { View } from \"react-native\";\n\nconst EmptyView = () => <View style={{ height: 100 }}></View>;\n\nexport default EmptyView;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  ScrollView,\n  StyleSheet,\n  ActivityIndicator,\n  View,\n  Dimensions,\n  Platform,\n  Linking,\n  ToastAndroid\n} from \"react-native\";\nimport { PaletteCard } from \"../components/PaletteCard\";\nimport { UndoDialog, DialogContainer } from \"../components/CommanDialogs\";\nimport { Croma } from \"../store/store\";\nimport Colors from \"../constants/Colors\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport Constants from \"expo-constants\";\nimport * as Permissions from \"expo-permissions\";\nimport ColorPicker from \"../libs/ColorPicker\";\nimport Jimp from \"jimp\";\nimport { Header } from \"react-navigation\";\nimport EmptyView from \"../components/EmptyView\";\nimport ActionButton from \"react-native-action-button\";\nimport { Ionicons, Entypo } from \"@expo/vector-icons\";\nimport InAppBilling from \"react-native-billing\";\n\nconst HomeScreen = function(props) {\n  const { height, width } = Dimensions.get(\"window\");\n\n  const {\n    isLoading,\n    allPalettes,\n    deletedPalettes,\n    undoDeletionByName,\n    isPro,\n    setPurchase\n  } = React.useContext(Croma);\n  const [pickImgloading, setPickImgLoading] = useState(false);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: true\n    });\n    if (result.base64 !== undefined) {\n      return await Jimp.read(new Buffer(result.base64, \"base64\"));\n    } else {\n      return await Jimp.read(result.uri);\n    }\n  };\n  const getPermissionAsync = async () => {\n    if (Constants.platform.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== \"granted\") {\n        alert(\"Sorry, we need camera roll permissions to make this work!\");\n      }\n    }\n  };\n  const purchase = async function() {\n    try {\n      console.log(\"starting purchase\");\n      await InAppBilling.open();\n      const details = await InAppBilling.purchase(\"croma_pro\");\n      console.log(\"You purchased: \", details);\n      ToastAndroid.show(\"Congrats, You are now a pro user!\", ToastAndroid.LONG);\n      setPurchase(details);\n    } catch (err) {\n      console.log(err);\n      ToastAndroid.show(\"Purchas unsucceessful \" + err, ToastAndroid.LONG);\n    } finally {\n      await InAppBilling.close();\n    }\n  };\n  // TODO: restore purchase\n  const checkPurchase = async function() {\n    try {\n      await InAppBilling.open();\n      // If subscriptions/products are updated server-side you\n      // will have to update cache with loadOwnedPurchasesFromGoogle()\n      await InAppBilling.loadOwnedPurchasesFromGoogle();\n      const isPurchased = await InAppBilling.isPurchased(\"croma_pro\");\n      console.log(\"Customer subscribed: \", isPurchased);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      await InAppBilling.close();\n    }\n  };\n  useEffect(() => {\n    getPermissionAsync();\n  }, []);\n  if (isLoading) {\n    return <ActivityIndicator />;\n  } else {\n    return (\n      <>\n        <View\n          style={[styles.container, { minHeight: height - Header.HEIGHT - 16 }]}\n        >\n          {pickImgloading ? <ActivityIndicator /> : <View />}\n          <ScrollView showsVerticalScrollIndicator={false}>\n            {Object.keys(allPalettes).map(name => {\n              return (\n                <PaletteCard\n                  key={name}\n                  colors={allPalettes[name].colors.slice(\n                    0,\n                    isPro ? allPalettes[name].colors.length : 4\n                  )}\n                  name={name}\n                  navigation={props.navigation}\n                />\n              );\n            })}\n            <EmptyView />\n          </ScrollView>\n        </View>\n\n        <DialogContainer>\n          {Object.keys(deletedPalettes).map(name => {\n            return (\n              <UndoDialog\n                key={name}\n                name={name}\n                undoDeletionByName={undoDeletionByName}\n              />\n            );\n          })}\n        </DialogContainer>\n        {/*Setting box shadow to false because of Issue on the web: https://github.com/mastermoo/react-native-action-button/issues/337 */}\n        <ActionButton\n          bgColor=\"rgba(68, 68, 68, 0.6)\"\n          hideShadow={Platform.OS === \"web\" ? true : false}\n          buttonColor={Colors.accent}\n          key=\"action-button-home\"\n        >\n          <ActionButton.Item\n            buttonColor=\"#9b59b6\"\n            title=\"Get palette from image\"\n            onPress={() => {\n              setPickImgLoading(true);\n              pickImage()\n                .then((image, err) => {\n                  setPickImgLoading(false);\n                  props.navigation.navigate(\"ColorList\", {\n                    colors: ColorPicker.getProminentColors(image)\n                  });\n                })\n                .catch(err => {\n                  setPickImgLoading(false);\n                });\n            }}\n          >\n            <Ionicons name=\"md-camera\" style={styles.actionButtonIcon} />\n          </ActionButton.Item>\n          <ActionButton.Item\n            buttonColor=\"#3498db\"\n            title=\"Get palette from color\"\n            onPress={() => {\n              props.navigation.navigate(\"ColorPicker\", {\n                onDone: color => {\n                  props.navigation.navigate(\"Palettes\", {\n                    color: color.color\n                  });\n                }\n              });\n            }}\n          >\n            <Ionicons name=\"md-color-palette\" style={styles.actionButtonIcon} />\n          </ActionButton.Item>\n          <ActionButton.Item\n            buttonColor=\"#1abc9c\"\n            title=\"Add colors manually\"\n            onPress={() => props.navigation.navigate(\"AddPaletteManually\")}\n          >\n            <Ionicons name=\"md-color-filter\" style={styles.actionButtonIcon} />\n          </ActionButton.Item>\n          {Platform.OS === \"web\" && (\n            <ActionButton.Item\n              buttonColor={Colors.primary}\n              title=\"Get croma on playstore\"\n              onPress={() =>\n                Linking.openURL(\n                  \"https://play.google.com/store/apps/details?id=app.croma\"\n                )\n              }\n            >\n              <Entypo name=\"google-play\" style={styles.actionButtonIcon} />\n            </ActionButton.Item>\n          )}\n          {Platform.OS === \"android\" && !isPro && (\n            <ActionButton.Item\n              buttonColor={Colors.primary}\n              title=\"Unlock pro\"\n              onPress={() => {\n                console.log(\"Unlock pro\");\n                purchase();\n              }}\n            >\n              <Ionicons name=\"md-unlock\" style={styles.actionButtonIcon} />\n            </ActionButton.Item>\n          )}\n        </ActionButton>\n      </>\n    );\n  }\n};\n\nexport default HomeScreen;\n\nHomeScreen.navigationOptions = {\n  title: \"Croma\"\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    margin: 8,\n    justifyContent: \"center\"\n  },\n  actionButtonIcon: {\n    fontSize: 20,\n    height: 22,\n    color: \"white\"\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text, Platform, Clipboard } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport { Share } from \"react-native\";\n\nimport MultiColorView from \"./MultiColorView\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { Croma } from \"../store/store\";\n\nexport const PaletteCard = props => {\n  const [shared, setShared] = React.useState(false);\n  const { deletePaletteByName } = React.useContext(Croma);\n  const onShare = async event => {\n    try {\n      const result = await Share.share(\n        {\n          title: \"croma app\",\n          message: `https://croma.app/#/Main/SavePalette?name=${\n            props.name\n          }&colors=${encodeURIComponent(JSON.stringify(props.colors))}`\n        },\n        {\n          dialogTitle: \"croma app \"\n        }\n      );\n\n      if (result.action === Share.sharedAction) {\n        if (result.activityType) {\n          // shared with activity type of result.activityType\n        } else {\n          // shared\n        }\n      } else if (result.action === Share.dismissedAction) {\n        // dismissed\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const onShareWeb = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    Clipboard.setString(\n      `https://croma.app/#/Main/SavePalette?name=${\n        props.name\n      }&colors=${encodeURIComponent(JSON.stringify(props.colors))}`\n    );\n    setShared(true);\n    setTimeout(() => {\n      setShared(false);\n    }, 3000);\n  };\n  return (\n    <Card\n      {...props}\n      onPress={() => {\n        props.navigation.navigate(\"Palette\", props);\n      }}\n    >\n      <MultiColorView {...props}></MultiColorView>\n\n      <View style={styles.bottom}>\n        <Text style={styles.label}>{props.name}</Text>\n        <View style={styles.actionButtonsView}>\n          {shared && (\n            <Text\n              style={{\n                position: \"absolute\",\n                backgroundColor: \"rgb(64, 64, 58)\",\n                top: \"-35px\",\n                right: \"-10px\",\n                width: \"148px\",\n                color: \"#fff\",\n                padding: \"5px \",\n                textAlign: \"center\",\n                borderRadius: \"6px\"\n              }}\n            >\n              Copied to Clipboard!\n            </Text>\n          )}\n          {Platform.OS === \"web\" ? (\n            <Touchable onClick={onShareWeb} style={styles.actionButton}>\n              <FontAwesome size={20} name=\"share\" />\n            </Touchable>\n          ) : (\n            <Touchable onPress={onShare} style={styles.actionButton}>\n              <FontAwesome size={20} name=\"share\" />\n            </Touchable>\n          )}\n          <Touchable\n            onPress={event => {\n              event.preventDefault();\n              event.stopPropagation();\n              deletePaletteByName(props.name);\n            }}\n            style={styles.actionButton}\n          >\n            <FontAwesome size={20} name=\"trash\" />\n          </Touchable>\n        </View>\n      </View>\n    </Card>\n  );\n};\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    paddingRight: 16\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import kmeans from \"ml-kmeans\";\nimport Jimp from \"jimp\";\nimport Color from \"pigment/full\";\nexport default class ColorPicker {\n  static getProminentColors(image) {\n    /*\n    Jimp.RESIZE_NEAREST_NEIGHBOR;\n    Jimp.RESIZE_BILINEAR;\n    Jimp.RESIZE_BICUBIC;\n    Jimp.RESIZE_HERMITE;\n    Jimp.RESIZE_BEZIER;\n    These does not work with first params.\n    */\n    image.resize(Jimp.AUTO, 100);\n    let data = ColorPicker._prepareDataForKmeans(image);\n    let time = Date.now();\n    let ans = kmeans(data, 24, { initialization: \"random\", maxIterations: 20 });\n    ans.centroids = ans.centroids.sort((c1, c2) => c2.size - c1.size);\n    let kmeansColors = ans.centroids.map(centroid => {\n      return new Color(this._labToHex(centroid.centroid));\n    });\n    return this._getFinalColors(kmeansColors).map(c => {\n      return { color: c.tohex() };\n    });\n  }\n  // original implementation in java: https://github.com/kamalkishor1991/croma/blob/master/src/main/java/org/numixproject/colorextractor/image/KMeansColorPicker.java\n  static _getFinalColors(kmeansColors) {\n    kmeansColors.sort(\n      (c1, c2) => this._toArray(c1.tohsv())[0] < this._toArray(c2.tohsv())[0]\n    );\n    let filteredColors = [];\n    for (let i = 0; i < kmeansColors.length; i += 4) {\n      let colorList = [];\n      for (let j = 0; j < 4; j++) {\n        colorList.push(kmeansColors[i + j]);\n      }\n      colorList.sort(\n        (c1, c2) => this._toArray(c1.tohsv())[1] < this._toArray(c2.tohsv())[1]\n      );\n      filteredColors.push(colorList[colorList.length - 1]);\n      filteredColors.push(colorList[colorList.length - 2]);\n    }\n    let finalColors = [];\n    for (let i = 0; i < filteredColors.length; i += 2) {\n      if (\n        this._toArray(filteredColors[i].tohsv())[2] >\n        this._toArray(filteredColors[i + 1].tohsv())[2]\n      ) {\n        finalColors.push(filteredColors[i]);\n      } else {\n        finalColors.push(filteredColors[i + 1]);\n      }\n    }\n    return finalColors;\n  }\n\n  static _labToHex(lab) {\n    let color = new Color(\n      \"lab(\" + lab[0] + \", \" + lab[1] + \", \" + lab[2] + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _prepareDataForKmeans(image) {\n    let data = [];\n\n    for (let i = 0; i < image.bitmap.width; i++) {\n      for (let j = 0; j < image.bitmap.height; j++) {\n        let intColor = image.getPixelColor(i, j);\n        let hex = this._toHexColor(intColor);\n        let color = new Color(hex);\n        let xyz = color.tolab();\n        // format: \"xyz(19.78527130484015, 8.600439447528947, 95.19796416837329)\" to double array of xyz\n        xyz = xyz\n          .substr(4, xyz.length - 5)\n          .split(\", \")\n          .map(v => parseFloat(v));\n        data.push(xyz);\n      }\n    }\n\n    return data;\n  }\n\n  static _toHexColor(intColor) {\n    let rgba = Jimp.intToRGBA(intColor); // TODO: Need to optimize this once everything else starts working.\n    let color = new Color(\n      \"rgb(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _toArray(color) {\n    let index = color.indexOf(\"(\");\n    color = color.substr(index + 1, color.length - index);\n    return color.split(\", \").map(c => parseFloat(c));\n  }\n}\n","import React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Clipboard,\n  Platform,\n  ToastAndroid\n} from \"react-native\";\nimport { FontAwesome } from \"@expo/vector-icons\";\n\nimport Touchable from \"react-native-platform-touchable\";\n\nimport Color from \"pigment/full\";\n\nexport function ColorDetail(props) {\n  const [copyiedIndex, setCopyiedIntex] = useState(-1);\n  const styles = StyleSheet.create({\n    backgroundColor: {\n      backgroundColor: props.color,\n      height: 112,\n      alignSelf: \"stretch\"\n    },\n    info: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      padding: 10\n    },\n    colorNameText: {\n      fontSize: 16,\n      fontWeight: \"500\"\n    }\n  });\n  const color = new Color(props.color);\n  let items = [\n    { key: \"HEX\", value: color.tohex() },\n    { key: \"RGB\", value: color.torgb() },\n    { key: \"HSL\", value: color.tohsl() },\n    { key: \"HSV\", value: color.tohsv() },\n    { key: \"HWB\", value: color.tohwb() },\n    { key: \"CMYK\", value: color.tocmyk() },\n    { key: \"CIELAB\", value: color.tolab() },\n    { key: \"Luminance\", value: (color.luminance() * 100).toFixed(2) + \"%\" },\n    { key: \"Darkness\", value: (color.darkness() * 100).toFixed(2) + \"%\" }\n  ];\n\n  const debounce = (func, delay) => {\n    let debounceTimer;\n    return function() {\n      const context = this;\n      const args = arguments;\n      clearTimeout(debounceTimer);\n      debounceTimer = setTimeout(() => func.apply(context, args), delay);\n    };\n  };\n  const debouncedSetCopiedIndex = debounce(() => setCopyiedIntex(-1), 2000);\n\n  let writeToClipboard = function(value, index) {\n    if (Platform.OS === \"android\") {\n      ToastAndroid.show(\"Text copied to clipboard!\", ToastAndroid.LONG);\n    }\n    Clipboard.setString(value);\n    setCopyiedIntex(index);\n    debouncedSetCopiedIndex();\n  };\n  return (\n    <View\n      style={{\n        flex: 1,\n        flexDirection: \"column\",\n        padding: 8,\n        backgroundColor: \"#fff\"\n      }}\n    >\n      <View style={[styles.backgroundColor]}></View>\n      {/* <Text {...props} style={[props.style, { fontFamily: 'space-mono' }]} >{props.color}</Text> */}\n      <View style={{ marginTop: 20 }}>\n        {items.map((item, index) => (\n          <Touchable\n            key={item.key}\n            onPress={() => writeToClipboard(item.value, index)}\n          >\n            <View style={styles.info}>\n              <Text style={styles.colorNameText}>{item.key} : </Text>\n\n              <Text>{item.value}</Text>\n              {index === copyiedIndex && Platform.OS === \"web\" && (\n                <Text\n                  style={{\n                    position: \"absolute\",\n                    backgroundColor: \"rgb(64, 64, 58)\",\n                    top: \"-25px\",\n                    right: \"-10px\",\n                    color: \"#fff\",\n                    padding: \"5px\",\n                    textAlign: \"center\",\n                    borderRadius: \"6px\"\n                  }}\n                >\n                  Copied!\n                </Text>\n              )}\n              <FontAwesome name=\"copy\" />\n            </View>\n          </Touchable>\n        ))}\n      </View>\n    </View>\n  );\n}\n","import * as React from \"react\";\nimport { StyleSheet, Text } from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class CromaButton extends React.Component {\n  render() {\n    const { style, onPress, children } = this.props;\n    return (\n      <Touchable style={[styles.button, style]} onPress={onPress}>\n        <Text style={{ textTransform: \"uppercase\" }}> {children} </Text>\n      </Touchable>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 50,\n    marginTop: 10,\n    marginBottom: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\n","import React from \"react\";\nimport { ScrollView, StyleSheet, Button } from \"react-native\";\nimport { ColorDetail } from \"../components/ColorDetails\";\nimport CromaButton from \"../components/CromaButton\";\n\nexport default function ColorDetailScreen(props) {\n  const color = props.navigation.getParam(\"color\");\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      <ColorDetail navigation={props.navigation} color={color}>\n        {color}\n      </ColorDetail>\n      <CromaButton\n        onPress={() => props.navigation.navigate(\"Palettes\", { color: color })}\n      >\n        See color palettes\n      </CromaButton>\n    </ScrollView>\n  );\n}\n\nColorDetailScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"color\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useState } from \"react\";\nimport { ScrollView, View, StyleSheet } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\nimport { CromaColorPicker as ColorPicker } from \"croma-color-picker\";\nexport default function ColorPickerScreen(props) {\n  const [color, setColor] = useState(\"#db0a5b\");\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <View style={styles.container}>\n        <ColorPicker\n          onChangeColor={color => {\n            setColor(color);\n          }}\n          style={[{ height: 300, flex: 1 }]}\n        />\n        <CromaButton\n          onPress={() => {\n            props.navigation.goBack();\n            props.navigation.getParam(\"onDone\")({ color: color });\n          }}\n        >\n          Done\n        </CromaButton>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport MultiColorView from \"./MultiColorView\";\n\nexport class PalettePreviewCard extends React.Component {\n  render() {\n    return (\n      <Card {...this.props}>\n        <View>\n          <MultiColorView {...this.props}></MultiColorView>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>{this.props.name}</Text>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 48\n  },\n  label: {\n    flex: 1,\n    fontWeight: \"500\",\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import React from \"react\";\nimport { ScrollView, StyleSheet, Text } from \"react-native\";\nimport Color from \"pigment/full\";\nimport { PalettePreviewCard } from \"../components/PalettePreviewCard\";\nexport default function PalettesScreen(props) {\n  // Convert camelCase to sentence\n  const parseCamelCase = text => {\n    if (typeof text !== \"string\") {\n      return \"\";\n    }\n    return text\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n      .replace(/\\b([A-Z]+)([A-Z])([a-z])/, \"$1 $2$3\")\n      .replace(/^./, str => str.toUpperCase());\n  };\n  const color = new Color(props.navigation.getParam(\"color\"));\n  let items = [];\n  for (const i in color) {\n    if (/.*scheme$/i.test(i) && typeof color[i] === \"function\") {\n      let colors = [];\n      const paletteColors = color[i]();\n      paletteColors.forEach(c => colors.push({ color: c.tohex() }));\n      items.push(\n        <PalettePreviewCard\n          onPress={() =>\n            props.navigation.navigate(\"ColorList\", { colors: colors })\n          }\n          key={i.toString()}\n          colors={colors}\n          name={parseCamelCase(i.toString())}\n        ></PalettePreviewCard>\n      );\n    }\n  }\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      {items}\n    </ScrollView>\n  );\n}\n\nPalettesScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"color\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useState, useEffect } from \"react\";\nimport { Text, View, StyleSheet, TextInput, Platform } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Colors from \"../constants/Colors\";\nimport CromaButton from \"../components/CromaButton\";\nimport { Croma } from \"../store/store\";\nimport { TextDialog } from \"./CommanDialogs\";\n\nexport const SavePalette = props => {\n  const [paletteName, setPaletteName] = useState(\n    props.navigation.getParam(\"name\") ? props.navigation.getParam(\"name\") : \"\"\n  );\n  const [finalColors, setFinalColors] = useState([]);\n  const [isUnlockProNotification, setIsUnlockProNotifiction] = useState(false);\n  const [isPaletteNameExist, setIsPaletteNameExist] = React.useState(false);\n  const { addPalette, allPalettes, isPro } = React.useContext(Croma);\n\n  useEffect(() => {\n    let colorsFromParams = props.navigation.getParam(\"colors\");\n    if (typeof colorsFromParams === \"string\") {\n      colorsFromParams = JSON.parse(colorsFromParams);\n    }\n    const colors = [...new Set(colorsFromParams || [])];\n    setIsUnlockProNotifiction(!isPro && colors.length > 4);\n    setFinalColors(colors);\n    setTimeout(() => {\n      setIsUnlockProNotifiction(false);\n    }, 5000);\n  }, []);\n\n  const { title, navigationPath } = props;\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <View style={styles.card}>\n        <Text style={styles.label}>{title}</Text>\n        <TextInput\n          style={styles.input}\n          value={paletteName}\n          placeholder=\"Enter a name for the palette\"\n          onChangeText={name => setPaletteName(name)}\n        />\n      </View>\n      <CromaButton\n        onPress={async () => {\n          if (allPalettes[paletteName]) {\n            setIsPaletteNameExist(true);\n            setTimeout(() => {\n              setIsPaletteNameExist(false);\n            }, 3000);\n            return null;\n          }\n          const palette = { name: paletteName, colors: finalColors };\n          addPalette(palette);\n          if (navigationPath === \"Palette\") {\n            props.navigation.navigate(navigationPath, palette);\n          } else {\n            props.navigation.navigate(navigationPath);\n          }\n        }}\n      >\n        Save palette\n      </CromaButton>\n      {isPaletteNameExist && (\n        <TextDialog text={\"A palette with same name already exists.\"} />\n      )}\n      {isUnlockProNotification && (\n        <TextDialog text={\"Unlock pro to save more than 4 colors!\"} />\n      )}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 92,\n    marginVertical: 10,\n    padding: 10\n  },\n  label: {\n    flex: 1,\n    color: Colors.darkGrey,\n    fontWeight: \"700\"\n  },\n  input: {\n    flex: 1,\n    borderBottomColor: \"black\",\n    borderBottomWidth: 1\n  }\n});\n","import * as React from \"react\";\nimport { View, StyleSheet, Text } from \"react-native\";\n\nexport class SingleColorView extends React.Component {\n  render() {\n    return (\n      <View style={[styles.container, { backgroundColor: this.props.color }]}>\n        <Text style={styles.colorText}>{this.props.color}</Text>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 56,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  colorText: {\n    fontWeight: \"700\",\n    backgroundColor: \"rgba(255, 255, 255, .3)\",\n    paddingLeft: 8,\n    paddingRight: 8\n  }\n});\n","import React from \"react\";\nimport { SingleColorView } from \"../components/SingleColorView\";\nimport { ScrollView, StyleSheet } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\n\nexport default function ColorListScreen(props) {\n  const colors = uniqueColors(props.navigation.getParam(\"colors\"));\n  return (\n    <ScrollView style={styles.listview} showsVerticalScrollIndicator={false}>\n      {colors.map(color => (\n        <SingleColorView key={color.color} color={color.color} />\n      ))}\n      <CromaButton\n        onPress={() =>\n          props.navigation.navigate(\"SavePalette\", { colors: colors })\n        }\n      >\n        SAVE AS NEW PALETTE\n      </CromaButton>\n    </ScrollView>\n  );\n}\nfunction uniqueColors(colors) {\n  let set = new Set();\n  let uniqueColors = [];\n  colors.forEach(color => {\n    if (!set.has(color.color)) {\n      uniqueColors.push(color);\n    }\n    set.add(color.color);\n  });\n  return uniqueColors;\n}\n\nColorListScreen.navigationOptions = {\n  title: \"Colors\"\n};\n\nconst styles = StyleSheet.create({\n  listview: {\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class SingleColorCard extends React.Component {\n  render() {\n    return (\n      <Card {...this.props}>\n        <View>\n          <View\n            style={{ backgroundColor: this.props.color, height: 100 }}\n          ></View>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>{this.props.color}</Text>\n            <View style={styles.actionButtonsView}>\n              <Touchable\n                onPress={event => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  this.props.colorDeleteFromPalette();\n                }}\n                style={styles.actionButton}\n              >\n                <FontAwesome size={20} name=\"trash\" />\n              </Touchable>\n            </View>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    paddingRight: 16\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    fontWeight: \"500\",\n    color: Colors.darkGrey\n  }\n});\n","import React, { useState } from \"react\";\n\nimport SingleColorCard from \"../components/SingleColorCard\";\nimport {\n  ScrollView,\n  StyleSheet,\n  View,\n  Dimensions,\n  Platform\n} from \"react-native\";\nimport { UndoDialog, DialogContainer } from \"../components/CommanDialogs\";\nimport { Croma } from \"../store/store\";\nimport ActionButton from \"react-native-action-button\";\nimport Colors from \"../constants/Colors\";\nimport { Header } from \"react-navigation\";\nimport EmptyView from \"../components/EmptyView\";\nexport default function PaletteScreen(props) {\n  const { height, width } = Dimensions.get(\"window\");\n  const paletteName = props.navigation.getParam(\"name\");\n  const {\n    isPro,\n    allPalettes,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette\n  } = React.useContext(Croma);\n  const colors = allPalettes[paletteName].colors;\n  const deletedColors = allPalettes[paletteName].deletedColors\n    ? allPalettes[paletteName].deletedColors\n    : [];\n\n  const deleteColor = index => {\n    colorDeleteFromPalette(props.navigation.getParam(\"name\"), index);\n  };\n\n  return (\n    <>\n      <View\n        style={(styles.container, { minHeight: height - Header.HEIGHT - 16 })}\n      >\n        <ScrollView\n          style={styles.listview}\n          showsVerticalScrollIndicator={false}\n        >\n          {colors.slice(0, isPro ? colors.length : 4).map((colorObj, index) => {\n            return (\n              <SingleColorCard\n                key={colorObj.color}\n                onPress={() =>\n                  props.navigation.navigate(\"ColorDetails\", {\n                    color: colorObj.color\n                  })\n                }\n                color={colorObj.color}\n                colorDeleteFromPalette={() => {\n                  deleteColor(index);\n                }}\n              ></SingleColorCard>\n            );\n          })}\n          <EmptyView />\n        </ScrollView>\n        <ActionButton\n          bgColor=\"rgba(68, 68, 68, 0.6)\"\n          hideShadow={Platform.OS === \"web\" ? true : false}\n          buttonColor={Colors.accent}\n          onPress={() => {\n            props.navigation.navigate(\"ColorPicker\", {\n              onDone: color => {\n                addColorToPalette(paletteName, color);\n              }\n            });\n          }}\n        />\n      </View>\n      <DialogContainer>\n        {deletedColors.map(colorObj => (\n          <UndoDialog\n            name={colorObj.color}\n            undoDeletionByName={colorName => {\n              undoColorDeletion(paletteName, colorName);\n            }}\n          />\n        ))}\n      </DialogContainer>\n    </>\n  );\n}\nPaletteScreen.navigationOptions = ({ navigation }) => {\n  return {\n    title: navigation.getParam(\"name\")\n  };\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  listview: {\n    margin: 8\n  }\n});\n","import React from \"react\";\nimport { Platform } from \"react-native\";\nimport { createStackNavigator } from \"react-navigation\";\nimport { createAppContainer } from \"react-navigation\";\nimport ColorDetailsScreen from \"../screens/ColorDetailScreen\";\nimport ColorPickerScreen from \"../screens/ColorPickerScreen\";\nimport PalettesScreen from \"../screens/PalettesScreen\";\nimport SavePaletteScreen from \"../screens/SavePaletteScreen\";\nimport AddPaletteManuallyScreen from \"../screens/AddPaletteManuallyScreen\";\nimport ColorListScreen from \"../screens/ColorListScreen\";\nimport PaletteScreen from \"../screens/PaletteScreen\";\nimport HomeScreen from \"../screens/HomeScreen\";\nimport Colors from \"../constants/Colors\";\n\nconst config = Platform.select({\n  web: { headerMode: \"screen\" },\n  default: {}\n});\nconst RootStack = createStackNavigator(\n  {\n    ColorDetails: ColorDetailsScreen,\n    ColorPicker: ColorPickerScreen,\n    Palettes: PalettesScreen,\n    SavePalette: SavePaletteScreen,\n    ColorList: ColorListScreen,\n    Palette: PaletteScreen,\n    Home: HomeScreen,\n    AddPaletteManually: AddPaletteManuallyScreen\n  },\n  {\n    initialRouteName: \"Home\",\n    transparentCard: true,\n    /* The header config from HomeScreen is now here */\n    defaultNavigationOptions: {\n      headerStyle: {\n        backgroundColor: Colors.primary\n      },\n      headerTintColor: \"#fff\"\n    }\n  }\n);\n\nconst AppContainer = createAppContainer(RootStack);\n\nexport default RootStack;\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\n\nexport default function SavePaletteScreen(props) {\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <SavePalette\n        title={\"ADD NEW PALETTE\"}\n        navigationPath={\"Home\"}\n        navigation={props.navigation}\n      />\n    </ScrollView>\n  );\n}\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\n\nexport default function AddPaletteManuallyScreen(props) {\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <SavePalette\n        title={\"ADD PALETTE NAME\"}\n        navigationPath={\"Palette\"}\n        navigation={props.navigation}\n      />\n    </ScrollView>\n  );\n}\n","import { createBrowserApp } from \"@react-navigation/web\";\nimport { createSwitchNavigator } from \"react-navigation\";\n\nimport MainTabNavigator from \"./MainTabNavigator\";\n\nconst switchNavigator = createSwitchNavigator({\n  // You could add another route here for authentication.\n  // Read more at https://reactnavigation.org/docs/en/auth-flow.html\n  Main: MainTabNavigator\n});\nswitchNavigator.path = \"\";\n\nexport default createBrowserApp(switchNavigator, { history: \"hash\" });\n","import React, { useState, useEffect } from \"react\";\nimport { Platform, StatusBar, StyleSheet, View } from \"react-native\";\nimport Colors from \"./constants/Colors\";\nimport AppNavigator from \"./navigation/AppNavigator\";\nimport { ActivityIndicator } from \"react-native\";\nimport applicationHook, { initState, Croma } from \"./store/store\";\n\nexport default function App(props) {\n  const [isPalettesLoaded, setIsPalettesLoaded] = useState(false);\n  const applicationState = applicationHook(initState);\n\n  useEffect(() => {\n    (async () => {\n      await applicationState.loadInitPaletteFromStore();\n      setIsPalettesLoaded(true);\n    })();\n    if (Platform.OS === \"web\") {\n      applicationState.setPurchase({\n        platfrom: \"web\"\n      });\n    }\n  }, []);\n  return !isPalettesLoaded ? (\n    <View style={{ flex: 1, marginTop: \"20%\" }}>\n      <ActivityIndicator size=\"large\" color=\"#ef635f\" animating={true} />\n    </View>\n  ) : (\n    <Croma.Provider value={applicationState}>\n      <View style={[styles.container]}>\n        <StatusBar\n          barStyle=\"light-content\"\n          // dark-content, light-content and default\n          hidden={false}\n          //To hide statusBar\n          backgroundColor={Colors.primaryDark}\n          //Background color of statusBar only works for Android\n          translucent={false}\n          //allowing light, but not detailed shapes\n          networkActivityIndicatorVisible={true}\n        />\n        <View\n          style={[{ flex: 1, backgroundColor: \"transparent\", maxWidth: 600 }]}\n        >\n          {Platform.OS === \"ios\" && <StatusBar barStyle=\"default\" />}\n          <AppNavigator />\n        </View>\n      </View>\n    </Croma.Provider>\n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: Colors.backgroundColor,\n    flexDirection: \"row\"\n  }\n});\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function(info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function(error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","const tintColor = \"#2f95dc\";\n\nexport default {\n  tintColor,\n  tabIconDefault: \"#ccc\",\n  tabIconSelected: tintColor,\n  tabBar: \"#fefefe\",\n  errorBackground: \"red\",\n  errorText: \"#fff\",\n  warningBackground: \"#EAEB5E\",\n  warningText: \"#666804\",\n  noticeBackground: tintColor,\n  noticeText: \"#fff\",\n  primary: \"#f1544d\",\n  primaryDark: \"#c94740\",\n  text: \"#fff\",\n  accent: \"#f0d04c\",\n  grey: \"#888\",\n  darkGrey: \"#333\",\n  lightGrey: \"#eee\",\n  white: \"#fff\",\n  black: \"#000\",\n  fadedBlack: \"rgba(0, 0, 0, .5)\",\n  backgroundColor: \"#f2f2f2\"\n};\n","import { AsyncStorage } from \"react-native\";\nconst APPLICATION_STATE_KEY = \"APLICATION_STATE\";\nconst IS_USER_ALREADY_EXIST_KEY = \"IS_USER_ALREADY_EXIST\";\nexport default class Storage {\n  static getApplicationState = async () => {\n    let state = await AsyncStorage.getItem(APPLICATION_STATE_KEY);\n    if (state) {\n      return JSON.parse(state);\n    } else {\n      return {};\n    }\n  };\n\n  static setApplicationState = async state => {\n    await AsyncStorage.setItem(APPLICATION_STATE_KEY, JSON.stringify(state));\n  };\n\n  static setUserAlreadyExists = async () => {\n    await AsyncStorage.setItem(IS_USER_ALREADY_EXIST_KEY, \"true\");\n  };\n\n  static checkUserAlreadyExists = async () => {\n    return await AsyncStorage.getItem(IS_USER_ALREADY_EXIST_KEY);\n  };\n}\n","import React, { useState, useEffect } from \"react\";\nimport Storage from \"./../libs/Storage\";\nconst UNDO_TIMEOUT = 3000;\n\nexport const initState = {\n  allPalettes: {},\n  deletedPalettes: {},\n  isLoading: false,\n  isPro: false\n};\n\nconst syncStateToStore = function(state) {\n  Storage.setApplicationState(state);\n};\n\nconst sortPalette = palette =>\n  palette.colors.sort((a, b) => (a.color > b.color ? 1 : -1));\n\nexport default function applicationHook(initState) {\n  const addPalette = async palette => {\n    setState(state => {\n      const { allPalettes } = state;\n      sortPalette(palette);\n      allPalettes[palette.name] = palette;\n      return { ...state, allPalettes };\n    });\n  };\n\n  const loadInitPaletteFromStore = async () => {\n    // Loading application state from localStorage\n    const _state = await Storage.getApplicationState();\n    setState(state => ({\n      ...state,\n      ..._state\n    }));\n\n    // Setting default palette when user comming first time\n    let defaultPalettes = {};\n    const isUserAleadyExits = await Storage.checkUserAlreadyExists();\n    if (isUserAleadyExits != \"true\") {\n      Storage.setUserAlreadyExists();\n      defaultPalettes = {\n        name: \"Croma example palette\",\n        colors: [\n          { color: \"#F0675F\" },\n          { color: \"#F3D163\" },\n          { color: \"#EBEF5C\" },\n          { color: \"#C9EF5B\" }\n        ]\n      };\n      addPalette(defaultPalettes);\n    }\n  };\n\n  const removePaletteFromStateByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      delete deletedPalettes[name];\n      return { ...state, deletedPalettes };\n    });\n  };\n\n  const setPurchase = details => {\n    setState(state => {\n      return { ...state, isPro: true, purchaseDetails: details };\n    });\n  };\n\n  const addColorToPalette = (name, color) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors = allPalettes[name].colors.concat(color);\n      sortPalette(allPalettes[name]);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const deletePaletteByName = async name => {\n    setState(state => {\n      const { allPalettes } = state;\n      const { deletedPalettes } = state;\n      if (allPalettes[name]) {\n        deletedPalettes[name] = { ...allPalettes[name] };\n        delete allPalettes[name];\n        setTimeout(() => {\n          removePaletteFromStateByName(name);\n        }, UNDO_TIMEOUT);\n        return { ...state, allPalettes, deletedPalettes };\n      }\n      return { ...state };\n    });\n  };\n\n  const undoDeletionByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      if (deletedPalettes[name]) {\n        addPalette({ ...deletedPalettes[name] });\n        removePaletteFromStateByName(name);\n      }\n      return { ...state };\n    });\n  };\n\n  const colorDeleteFromPalette = (name, colorIndex) => {\n    setState(state => {\n      const { allPalettes } = state;\n      const deletedColor = allPalettes[name].colors.splice(colorIndex, 1);\n      if (allPalettes[name].deletedColors) {\n        allPalettes[name].deletedColors.push({ ...deletedColor[0] });\n      } else {\n        allPalettes[name].deletedColors = [...deletedColor];\n      }\n      setTimeout(() => {\n        clearDeletedColor(name, deletedColor[0].color);\n      }, UNDO_TIMEOUT);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const undoColorDeletion = (name, colorName) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors.push({ color: colorName });\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorName) {\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      sortPalette(allPalettes[name]);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const clearDeletedColor = (name, colorName) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorName) {\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      return { ...state, allPalettes };\n    });\n  };\n\n  const [state, setState] = useState({\n    ...initState,\n    loadInitPaletteFromStore,\n    undoDeletionByName,\n    deletePaletteByName,\n    addPalette,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette,\n    setPurchase\n  });\n\n  // Sync state to local storage\n  if (\n    Object.keys(state.allPalettes).length !== 0 ||\n    Object.keys(state.deletedPalettes).length !== 0 ||\n    state.isPro !== initState.isPro\n  ) {\n    syncStateToStore(state);\n  }\n  return state;\n}\n\nexport const Croma = React.createContext();\n","import React from \"react\";\nimport { View, Text, StyleSheet } from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport const DialogContainer = props => (\n  <View style={{ position: \"absolute\", bottom: 0, width: \"100%\" }}>\n    {props.children}\n  </View>\n);\n\nexport const UndoDialog = props => {\n  /*\n    Todo - need to add deletion based on type \n  */\n  const { name, undoDeletionByName } = props;\n  return (\n    <View style={styles.undoCard}>\n      <View style={{ width: \"80%\" }}>\n        <Text style={styles.undoText}>Deleted {name}. tab to dismiss.</Text>\n      </View>\n      <Touchable\n        onPress={event => {\n          event.stopPropagation();\n          event.preventDefault();\n          undoDeletionByName(name);\n        }}\n      >\n        <Text style={styles.undoButton}> UNDO </Text>\n      </Touchable>\n    </View>\n  );\n};\n\nexport const TextDialog = props => (\n  <View style={styles.undoCard}>\n    <View style={{ width: \"80%\" }}>\n      <Text style={styles.undoText}>{props.text}</Text>\n    </View>\n  </View>\n);\n\nconst styles = StyleSheet.create({\n  undoCard: {\n    backgroundColor: \"#303036\",\n    flexDirection: \"row\",\n    padding: 15,\n    marginTop: 1\n  },\n  undoText: {\n    color: \"#fff\"\n  },\n  undoButton: {\n    fontWeight: \"bold\",\n    color: \"#e6be0b\"\n  }\n});\n"],"sourceRoot":""}